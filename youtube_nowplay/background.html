<html>
  <script>
    function onRequest(request, sender, sendResponse) {
      if (webkitNotifications) {
        var notification = webkitNotifications.createNotification(
          'youtube.png',                      // The image.
          'Now Playing [YouTube]',       // The title.
          request.title                  // The body.
        );
        // Belows are not implemented in chrome on Jan. 2012
        // notification.setReplaceId("nowplay");
        // notification.onshow =
        notification.show();
        setTimeout(function () { notification.cancel() }, 5000);
      }
      // Cleanup
      sendResponse({});
    };
    chrome.extension.onRequest.addListener(onRequest);
  </script>
</html>
